{% extends 'base.html' %}

{% block title %}ãƒã‚¤ãƒšãƒ¼ã‚¸ - iLã‚¹ã‚¯ã‚¨ã‚¢äºˆç´„ã‚·ã‚¹ãƒ†ãƒ {% endblock %}

{% block page_title %}
<div class="page-header">
    <h1>ã“ã‚“ã«ã¡ã¯ã€{{ user.last_name }} {{ user.first_name }}ã•ã‚“</h1>
    <p>äºˆç´„çŠ¶æ³ã‚„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ã‚’ç¢ºèªã§ãã¾ã™</p>
</div>
{% endblock %}

{% block content %}
<!-- ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚«ãƒ¼ãƒ‰ -->
<section class="menu-section">
    <div class="menu-grid">
        <a href="{% url 'reserve_step1' %}" class="menu-card">
            <div class="menu-icon">ğŸ“…</div>
            <div class="menu-content">
                <h3>æ–°è¦äºˆç´„</h3>
                <p>ã‚¹ãƒšãƒ¼ã‚¹ã‚’äºˆç´„ã™ã‚‹</p>
            </div>
        </a>

        <a href="{% url 'reservations' %}" class="menu-card">
            <div class="menu-icon">ğŸ“‹</div>
            <div class="menu-content">
                <h3>äºˆç´„å±¥æ­´</h3>
                <p>ç¾åœ¨ã®äºˆç´„çŠ¶æ³ã‚’ç¢ºèª</p>
            </div>
        </a>

        <a href="{% url 'profile' %}" class="menu-card">
            <div class="menu-icon">ğŸ‘¤</div>
            <div class="menu-content">
                <h3>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h3>
                <p>ç™»éŒ²æƒ…å ±ã®ç¢ºèªãƒ»å¤‰æ›´</p>
            </div>
        </a>
    </div>
</section>

<!-- ç¾åœ¨ã®äºˆç´„ -->
<section class="current-reservations">
    <h2>ç¾åœ¨ã®äºˆç´„</h2>
    
    {% if current_reservations %}
        <div class="reservation-list">
            {% for reservation in current_reservations %}
                <div class="reservation-item">
                    <div class="reservation-info">
                        <div class="reservation-date">
                            <strong>{{ reservation.reservation_date|date:"mæœˆdæ—¥ï¼ˆDï¼‰" }}</strong>
                        </div>
                        <div class="reservation-details">
                            <p class="space-name">{{ reservation.space.name }}</p>
                            <p class="time-slot">
                                {{ reservation.start_time|time:"H:i" }} - {{ reservation.end_time|time:"H:i" }}
                            </p>
                            {% if reservation.purpose %}
                                <p class="purpose">åˆ©ç”¨ç›®çš„: {{ reservation.purpose }}</p>
                            {% endif %}
                        </div>
                    </div>
                    <div class="reservation-actions">
                        <div class="amount">{{ reservation.total_amount|floatformat:0 }}å††</div>
                        <a href="{% url 'reservation_detail' reservation.id %}" class="btn btn-sm btn-outline">è©³ç´°</a>
                    </div>
                </div>
            {% endfor %}
        </div>
        
        <div class="section-footer">
            <a href="{% url 'reservations' %}" class="btn btn-outline">äºˆç´„å±¥æ­´ã‚’è¦‹ã‚‹</a>
        </div>
    {% else %}
        <div class="empty-state">
            <p>ç¾åœ¨äºˆç´„ã¯ã‚ã‚Šã¾ã›ã‚“</p>
            <a href="{% url 'reserve_step1' %}" class="btn btn-primary">æ–°è¦äºˆç´„</a>
        </div>
    {% endif %}
</section>

<!-- ãŠçŸ¥ã‚‰ã› -->
<section class="notices">
    <h2>ãŠçŸ¥ã‚‰ã›</h2>
    <div class="notice-list">
        <div class="notice-item">
            <div class="notice-date">2025å¹´6æœˆ14æ—¥</div>
            <div class="notice-content">
                <h4>æ–°ã—ã„ã‚¹ãƒšãƒ¼ã‚¹ã®ã”æ¡ˆå†…</h4>
                <p>å®Œå…¨å€‹å®¤FãŒãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³ã—ã¾ã—ãŸã€‚å……å®Ÿã—ãŸè¨­å‚™ã§ã‚ˆã‚Šå¿«é©ã«ã”åˆ©ç”¨ã„ãŸã ã‘ã¾ã™ã€‚</p>
            </div>
        </div>
        
        <div class="notice-item">
            <div class="notice-date">2025å¹´6æœˆ10æ—¥</div>
            <div class="notice-content">
                <h4>ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã®ãŠçŸ¥ã‚‰ã›</h4>
                <p>6æœˆ15æ—¥ï¼ˆåœŸï¼‰AM2:00-4:00ã«ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚äºˆç´„ã‚·ã‚¹ãƒ†ãƒ ãŒä¸€æ™‚åˆ©ç”¨ã§ãã¾ã›ã‚“ã€‚</p>
            </div>
        </div>
    </div>
</section>
{% endblock %}